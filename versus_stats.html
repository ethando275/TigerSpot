<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Versus Stats</title>
    <link rel="stylesheet" href="{{url_for('static', filename = 'styles/styles.css')}}" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <style>
        /* Set the size of the carousel */
    #exampleCarousel {
        width: 100%;  /* Full width */
        max-width: 800px; /* Maximum width but can be smaller on smaller screens */
        height: 650x; /* Fixed height */
        margin: auto; /* Centering if not full width */
    }

    /* Ensure images fill the carousel */
    .carousel-item img {
        width: 100%;  /* Make images fill the container */
        height: 650px; /* Fixed height to match the carousel */
        object-fit: cover; /* Ensures images cover the area without distorting aspect ratios */
    }
    .winner {
        text-align: center;
    }

    body {
        background-color: orange;
    }
   </style>
  </head>
  <body>
   <header>
    <nav>
        <div class="home-icon">
            <a href="/menu"><img src="static\styles\home.png" alt="Home Page" width="150" height="50"></a>
        </div>
        <div class="nav-icons">
            <a href="/rules">
                <div class="nav-item">
                    <img src="static\styles\questionmark.png" alt="Rules" />
                    <span>Rules</span>
                </div>
            </a>
            <a href="/requests">
                <div class="nav-item">
                    <img src="static\styles\requests.png" alt="Requests" />
                    <span>Versus</span>
                </div>
            </a>
            <a href="/leaderboard">
                <div class="nav-item">
                    <img src="static\styles\trophy.png" alt="Leaderboard" />
                    <span>Leaderboard</span>
                </div>
            </a>
            <a href="logoutcas">
                <div class="nav-item">
                    <img src="static\styles\logout.png" alt="Logout" />
                    <span>Log Out</span>
                </div>
            </a>
        </div>
    </nav>
    </header>
    
    <main class="main-content d-flex justify-content-center align-items-center">
        <!-- Text on the left side -->
        <div class="side-text left-text">
            <div class="row">Challenger: {{results.challenger_id}}</div>
            {% for points in results.challenger_pic_points %}
            <div class="row">Picture {{loop.index}}: {{points}} Points</div>
            {% endfor %}
            <div class="row">Total: {{results.challenger_points}} Points</div>
        </div>
        
        <!-- Carousel -->
        <div id="exampleCarousel" class="carousel slide" data-bs-ride="carousel">
            <!-- Indicators/dots -->
            <ol class="carousel-indicators">
                {% for image in images %}
                <li data-bs-target="#exampleCarousel" data-bs-slide-to="{{ loop.index0 }}" {% if loop.first %}class="active"{% endif %} aria-current="true" aria-label="Slide {{ loop.index }}"></li>
                {% endfor %}
            </ol>
    
            <!-- The slideshow/content -->
            {% if results.winner == "Tie"%}
            <b><p class="winner">Result: Tie</p>
            {% else %}
            <b><p class="winner">Winner: {{results.winner}}</p>
            {% endif %}
            <div class="carousel-inner">
                {% for image in images %}
                <div class="carousel-item {% if loop.first %}active{% endif %}">
                    <img src="{{ image }}" class="d-block w-100" alt="Slide {{ loop.index }}">
                </div>
                {% endfor %}
            </div>
    
            <!-- Left and right controls/icons -->
            <button class="carousel-control-prev" type="button" data-bs-target="#exampleCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#exampleCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    
        <!-- Text on the right side -->
        <div class="side-text right-text">
            <div class="row">Challengee: {{results.challengee_id}}</div>
            {% for points in results.challengee_pic_points %}
            <div class="row">Picture {{loop.index}}: {{points}} Points</div>
            {% endfor %}
            <div class="row">Total: {{results.challengee_points}} Points</div>
        </div>
    </main>
    
  </body>
</html>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
